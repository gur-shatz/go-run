# runctl.yaml — multi-target orchestrator
# See: https://github.com/gur-shatz/go-run
#
# Each target only requires "config" — everything else is optional:
#   config:  path to execrun config file, relative to runctl.yaml's directory (required)
#   enabled: start on launch (default: true)
#   links:   named URLs or file paths for the target (default: [])
#            - url link:  { name: "App", url: "http://localhost:8080" }
#            - file link: { name: "Config", file: "./config.yaml" }
#            Each link must have exactly one of "url" or "file" (not both).
#
# logs_dir: redirect all target output to log files under this directory.
#           Creates two files per target: <target>.build.log and <target>.run.log.
#
# vars:  template variables available via {{ .VAR }} or [[ .VAR ]] syntax.
#        Environment variables override vars values.
#        Resolved vars are passed to child target configs.
#        Functions: default, required, env, add
#
# vars:
#   PORT: "8080"
#   DB_HOST: '{{ env "DB_HOST" | default "localhost" }}'

api:
  port: 9100  # HTTP API port

# logs_dir: /tmp/runctl-logs

targets:
  my-app:
    config: "my-app/execrun.yaml"
    # enabled: true             # default
    # vars:                     # per-target vars (override global vars)
    #   GREETING: '{{ env "GREETING" | default "Hello!" }}'
    # links:
    #   - name: "App"
    #     url: "http://localhost:8080"
    #   - name: "Config"
    #     file: "./my-app/config.yaml"
